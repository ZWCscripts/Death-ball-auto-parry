-- Death Ball (https://www.roblox.com/games/15002061926/Death-Ball) için Delta & Mobil Uyumlu, Kusursuz Auto Parry & FPS Boost Menü

-- RemoteEvent referansı
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Remotes = ReplicatedStorage:FindFirstChild("Remotes")
local ParryRemote = Remotes and Remotes:FindFirstChild("Parry")

if not ParryRemote then
    -- Kullanıcıya bildirim (oyun güncellenirse veya event değişirse)
    game.StarterGui:SetCore("SendNotification", {
        Title = "UYARI!";
        Text = "Parry RemoteEvent bulunamadı. Oyun güncellendiyse bana tekrar yaz!";
        Duration = 10;
    })
    return
end

-- Menü GUI
local gui = Instance.new("ScreenGui")
gui.Name = "DeathBallAutoParryMenu"
gui.Parent = game:GetService("Players").LocalPlayer:WaitForChild("PlayerGui")
gui.ResetOnSpawn = false

local frame = Instance.new("Frame", gui)
frame.Size = UDim2.new(0,230,0,150)
frame.Position = UDim2.new(0,30,0,120)
frame.BackgroundColor3 = Color3.fromRGB(24,24,24)
frame.BorderSizePixel = 0
frame.Active = true
frame.Draggable = true
local uicorner = Instance.new("UICorner", frame)
uicorner.CornerRadius = UDim.new(0,12)

local title = Instance.new("TextLabel", frame)
title.Text = "Death Ball Auto Parry"
title.Font = Enum.Font.GothamBold
title.TextSize = 18
title.Size = UDim2.new(1,0,0,34)
title.BackgroundTransparency = 1
title.TextColor3 = Color3.fromRGB(180,255,180)

-- Auto Parry Toggle
local autoParry = false
local apBtn = Instance.new("TextButton", frame)
apBtn.Size = UDim2.new(0.8,0,0,32)
apBtn.Position = UDim2.new(0.1,0,0,40)
apBtn.Text = "AUTO PARRY: OFF"
apBtn.Font = Enum.Font.GothamBold
apBtn.TextSize = 15
apBtn.BackgroundColor3 = Color3.fromRGB(40,120,180)
apBtn.TextColor3 = Color3.fromRGB(255,255,255)
apBtn.BorderSizePixel = 0
local apCorner = Instance.new("UICorner", apBtn)
apCorner.CornerRadius = UDim.new(0,8)

-- FPS BOOST
local fpsBtn = Instance.new("TextButton", frame)
fpsBtn.Size = UDim2.new(0.8,0,0,28)
fpsBtn.Position = UDim2.new(0.1,0,0,90)
fpsBtn.Text = "FPS BOOST"
fpsBtn.Font = Enum.Font.GothamBold
fpsBtn.TextSize = 15
fpsBtn.BackgroundColor3 = Color3.fromRGB(60,60,60)
fpsBtn.TextColor3 = Color3.fromRGB(200,255,200)
fpsBtn.BorderSizePixel = 0
local fpsCorner = Instance.new("UICorner", fpsBtn)
fpsCorner.CornerRadius = UDim.new(0,8)

-- Kusursuz Auto Parry (top yaklaşınca, 0.45sn cooldown ile, spam olmadan)
local autoParryCon
apBtn.MouseButton1Click:Connect(function()
    autoParry = not autoParry
    apBtn.Text = "AUTO PARRY: "..(autoParry and "ON" or "OFF")
    apBtn.BackgroundColor3 = autoParry and Color3.fromRGB(0,200,80) or Color3.fromRGB(40,120,180)
    if autoParry then
        if autoParryCon then autoParryCon:Disconnect() end
        autoParryCon = game:GetService("RunService").RenderStepped:Connect(function()
            local char = game.Players.LocalPlayer.Character
            local ball = workspace:FindFirstChild("Ball")
            if char and ball and char:FindFirstChild("HumanoidRootPart") then
                local dist = (char.HumanoidRootPart.Position - ball.Position).Magnitude
                if dist < 13 then
                    if not apBtn._cd or tick() - apBtn._cd > 0.45 then
                        -- Sadece gerektiğinde RemoteEvent ile parry yap!
                        ParryRemote:FireServer()
                        apBtn._cd = tick()
                    end
                end
            end
        end)
    else
        if autoParryCon then autoParryCon:Disconnect() autoParryCon = nil end
    end
end)

-- FPS Boost
fpsBtn.MouseButton1Click:Connect(function()
    game:GetService("Lighting").FogEnd = 100
    game:GetService("Lighting").Brightness = 0
    game:GetService("Lighting").GlobalShadows = false
    for _, v in pairs(workspace:GetDescendants()) do
        if v:IsA("BasePart") then v.Material = Enum.Material.SmoothPlastic v.Reflectance = 0 end
        if v:IsA("Decal") or v:IsA("Texture") then v.Transparency = 1 end
        if v:IsA("ParticleEmitter") or v:IsA("Trail") then v.Enabled = false end
    end
end)
